<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.suncaper.springboot.mapper.UserMapper">
    <select id="search" resultType="net.suncaper.springboot.domain.User">
        SELECT * FROM t_user
        <where>
            <if test="keyword != null">
                name LIKE #{keyword}
            </if>
            <if test="age != null">
                AND age > #{age}
            </if>
        </where>
    </select>
    <insert id="register" parameterType="net.suncaper.springboot.domain.User">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jul 24 09:45:14 GMT+08:00 2019.
        -->
        <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.String">
            select uuid()
        </selectKey>
        insert into t_user (id,name,
        password,email
        )
        values (#{id,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR},
        #{password,jdbcType=VARCHAR},  #{email,jdbcType=VARCHAR}
        )
    </insert>
    <select id="selectByName" resultType="net.suncaper.springboot.domain.User">
        select * from t_user where name=#{name}
    </select>



</mapper>